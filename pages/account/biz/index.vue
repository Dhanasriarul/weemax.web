<template>
  <div class="font-livvic">
    <NavBar />
    <div class="w-full min-h-screen bg-black">
      <div class="relative h-[300px]">
        <!-- <div id="particles-js" class="w-full h-screen"></div> -->
        <div class="absolute w-full -translate-y-1/2 h-max top-1/2">
          <h1 class="text-6xl font-bold text-center text-white">
            Hello! Welcome to Biz
          </h1>
        </div>
      </div>

      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#0f0f0f"
          fill-opacity="1"
          d="M0,192L48,192C96,192,192,192,288,170.7C384,149,480,107,576,96C672,85,768,107,864,144C960,181,1056,235,1152,245.3C1248,256,1344,224,1392,208L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>

      <div class="bg-[#0f0f0f]">
        <div
          class="flex flex-col w-full max-w-5xl min-h-screen gap-5 px-4 pb-20 mx-auto lg:flex-row"
        >
          <div>
            <div
              class="w-full min-w-[320px] border border-gray-200/10 rounded-lg shadow lg:max-w-sm p-10"
            >
              <div class="flex flex-col items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  version="1"
                  viewBox="0 0 128 128"
                  id="neutral"
                  class="h-28 w-28"
                >
                  <path
                    fill="#48a37e"
                    d="M64 82.953c-18.045 0-34.306 7.598-45.791 19.756C29.694 114.867 45.955 122.466 64 122.466c18.045 0 34.306-7.6 45.791-19.757C98.306 90.551 82.045 82.953 64 82.953Z"
                  ></path>
                  <path
                    fill="#388e69"
                    d="M101.95 109.716a63.474 63.474 0 0 0 7.841-7.007C98.306 90.551 82.045 82.953 64 82.953c-1.355 0-2.696.056-4.03.14 17.665 2.186 32.87 12.272 41.98 26.623z"
                  ></path>
                  <path
                    fill="#79bfa0"
                    d="M26.05 109.716a63.473 63.473 0 0 1-7.841-7.007C29.694 90.551 45.955 82.953 64 82.953c1.355 0 2.696.056 4.03.14-17.665 2.186-32.87 12.272-41.98 26.623z"
                  ></path>
                  <path
                    fill="#388e69"
                    d="M78.007 84.02c-.651 7.681-7.093 13.713-14.944 13.713-7.848 0-14.289-6.028-14.943-13.707-.037-.425 14.943-1.29 14.943-1.29s14.98.86 14.944 1.283z"
                  ></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M78.007 84.02c-.651 7.681-7.093 13.713-14.944 13.713h0c-7.848 0-14.288-6.028-14.943-13.706"
                  ></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M64 81.953c-18.045 0-34.306 7.598-45.791 19.756C29.694 113.867 45.955 121.466 64 121.466c18.045 0 34.306-7.6 45.791-19.757C98.306 89.551 82.045 81.953 64 81.953Z"
                  ></path>
                  <path
                    fill="#f4ceae"
                    d="m73.079 71.523-.016 10.86c0 5.522-4.477 10-10 10-5.522 0-10-4.478-10-10l.016-10.86"
                  ></path>
                  <path
                    fill="#f4ceae"
                    d="m73.079 71.523-.016 10.86c0 5.522-4.477 10-10 10-5.522 0-10-4.478-10-10l.016-10.86"
                  ></path>
                  <path
                    fill="#eeb490"
                    d="M68.014 71 68 81.12c0 5.038-3.728 9.324-8.573 10.018 1.372.707 2.924 1.179 4.573 1.179 5.523 0 10-4.706 10-10.229L74.016 71h-6.002Z"
                  ></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="m73.079 76.523-.016 5.86c0 5.522-4.477 10-10 10-5.522 0-10-4.478-10-10l.016-5.86"
                  ></path>
                  <path
                    fill="#f4ceae"
                    d="M40.063 48.971a4 4 0 0 1-8 0v-7a4 4 0 1 1 8 0v7z"
                  ></path>
                  <path
                    fill="#eeb490"
                    d="M94.063 48.848a4 4 0 1 1-8 0v-7a4 4 0 0 1 8 0v7z"
                  ></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M40.063 48.971a4 4 0 0 1-8 0v-7a4 4 0 1 1 8 0v7zm54-.123a4 4 0 1 1-8 0v-7a4 4 0 0 1 8 0v7z"
                  ></path>
                  <path
                    fill="#608287"
                    d="M54 12h-7c-3.843 0-6.96-2.865-6.997-6.699C36.057 5.793 33 9.386 33 13.466v11C33 28.884 36.582 32 41 32h48c1.657 0 3-.904 3-2.555V16.42C92 14.219 90.21 12 88 12H54z"
                  ></path>
                  <path
                    fill="#90aaaf"
                    d="M49 24.466v-11c0-.34.029-.466.07-1.466H47c-1.01 0-1.967.014-2.834-.371-.106.519-.166 1.287-.166 1.837v11C44 28.884 47.582 32 52 32h5c-4.418 0-8-3.116-8-7.534z"
                  ></path>
                  <path
                    fill="#4e676d"
                    d="M37 12h10c-3.843 0-6.96-2.865-6.997-6.699-3.25.405-5.892 2.64-6.725 5.736 1.079.68 2.352.963 3.722.963zm51 0h-9c2.21 0 4 2.22 4 4.42v13.025C83 31.095 81.657 32 80 32h9c1.657 0 3-.904 3-2.555V16.42C92 14.219 90.21 12 88 12z"
                  ></path>
                  <path
                    fill="#90aaaf"
                    d="M38 24.466v-11c0-2.234.92-4.248 2.397-5.698a6.977 6.977 0 0 1-.394-2.234C36.057 6.026 33 9.386 33 13.466v11C33 28.884 36.582 32 41 32h5c-4.418 0-8-3.116-8-7.534z"
                  ></path>
                  <path
                    fill="#f4ceae"
                    stroke="#000"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M89.063 32.466v20.69c0 13.807-11.192 25-25 25h-2c-13.807 0-25-11.193-25-25v-20.69"
                  ></path>
                  <path
                    fill="#f4ceae"
                    d="M89.231 32.134v20.69c0 13.807-11.193 25-25 25h-2c-13.807 0-25-11.193-25-25v-20.69"
                  ></path>
                  <path
                    fill="#eeb490"
                    d="M83 32v21.156c0 12.963-9.867 23.543-22.5 24.797.822.082 1.656.047 2.5.047h2c13.807 0 25-11.037 25-24.844V32h-7Z"
                  ></path>
                  <path
                    fill="#fff"
                    d="M44.063 32.466v20.69c0 12.963 10.117 23.775 22.75 25.03-.822.082-1.406.28-2.25.28h-2c-13.807 0-25.5-11.503-25.5-25.31v-20.69h7z"
                    opacity=".16"
                  ></path>
                  <path fill="#eeb490" d="M38 32h52v6H38z"></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M89.063 32.466v20.69c0 13.807-11.192 25-25 25h-2c-13.807 0-25-11.193-25-25v-20.69m30-20.032h19a6 6 0 0 1 6 6v11.01a2.99 2.99 0 0 1-2.99 2.99H41c-4.418 0-8-3.116-8-7.534v-11c0-4.08 3.057-7.673 7.003-8.164.038 3.834 3.154 6.698 6.997 6.698h16z"
                  ></path>
                  <path
                    stroke="#234957"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M63 55h1"
                  ></path>
                  <path
                    fill="none"
                    stroke="#234957"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-miterlimit="10"
                    stroke-width="2"
                    d="M57 65h13M51 46h6M70 46h6"
                  ></path>
                </svg>
                <h5 class="mb-1 text-xl font-medium text-white capitalize">
                  {{ user.userName }}
                </h5>
                <div class="flex mt-4 space-x-3 md:mt-6">
                  <NuxtLink
                    to="/account/profile"
                    class="inline-flex items-center px-4 py-2 text-sm font-medium text-center text-white transition bg-black rounded-lg hover:scale-110"
                    >Manage Profile</NuxtLink
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="relative w-full">
            <div class="relative w-full">
              <div v-if="currentSection == 'reward'">
                <div
                  @click="currentSection = null"
                  class="px-4 py-1 font-bold text-white bg-black rounded-full cursor-pointer w-max"
                >
                  Go Back
                </div>
                <p class="my-3 text-xs text-orange-300 lg:text-sm">
                  Note: All the data shown here are not available balance. The
                  amount shown below will be added to the respective wallets
                  after the waiting period complete.
                </p>
                <div>
                  <div>
                    <dl class="grid grid-cols-1 gap-5 sm:grid-cols-3">
                      <div
                        class="px-4 py-3 overflow-hidden bg-white rounded-lg shadow sm:p-6"
                      >
                        <dt class="text-sm font-medium text-gray-500 truncate">
                          Reward Wallet Balance
                        </dt>
                        <dd
                          class="mt-1 text-3xl font-semibold tracking-tight text-gray-900"
                        >
                          ₹{{ reward.totalPending }}
                        </dd>
                      </div>
                      <!-- <div
                      class="px-4 py-3 overflow-hidden bg-white rounded-lg shadow sm:p-6"
                    >
                      <dt class="text-sm font-medium text-gray-500 truncate">
                        Purchase Wallet
                      </dt>
                      <dd
                        class="mt-1 text-3xl font-semibold tracking-tight text-gray-900"
                      >
                        ₹{{ reward.personalPending }}
                      </dd>
                    </div>
                    <div
                      class="px-4 py-3 overflow-hidden bg-white rounded-lg shadow sm:p-6"
                    >
                      <dt class="text-sm font-medium text-gray-500 truncate">
                        Income Wallet
                      </dt>
                      <dd
                        class="mt-1 text-3xl font-semibold tracking-tight text-gray-900"
                      >
                        ₹{{ reward.incomePending }}
                      </dd>
                    </div> -->
                    </dl>
                  </div>
                </div>
                <h1 class="mt-10 mb-3 text-3xl font-bold text-white">
                  Pendings
                </h1>
                <ul role="list" class="grid gap-4">
                  <li
                    v-for="(item, index) in reward.pendings"
                    :key="index"
                    class="flex justify-between px-3 py-5 border gap-x-6 border-white/20 rounded-2xl"
                  >
                    <div class="flex gap-x-4">
                      <div class="flex-auto min-w-0">
                        <p class="text-sm font-semibold leading-6 text-white">
                          ₹{{ item.amount }}
                        </p>
                        <p
                          class="mt-1 text-xs leading-5 truncate text-white/40"
                        >
                          Moving to:
                          <span
                            v-if="item.moveTo == 'cashback'"
                            class="px-2 py-1 text-black bg-green-300 rounded-full"
                            >Purchase wallet</span
                          >
                          <span
                            v-else
                            class="px-2 py-1 text-black bg-blue-300 rounded-full"
                            >Cashback wallet</span
                          >
                        </p>
                      </div>
                    </div>
                    <div class="flex flex-col items-end">
                      <p class="text-xs leading-6 text-white">
                        Moving date: <b>{{ item.moveDate }}</b>
                      </p>
                      <p class="mt-1 text-xs leading-5 text-white/40">
                        Status:
                        <span
                          class="font-bold capitalize"
                          :class="{
                            'text-green-300': item.status == 'credited',
                            'text-red-300': item.status == 'canceled',
                            'text-yellow-300': item.status == 'pending',
                          }"
                          >{{ item.status }}</span
                        >
                      </p>
                    </div>
                  </li>
                </ul>
              </div>
              <div v-else-if="currentSection == 'personalWallet'">
                <div
                  @click="currentSection = null"
                  class="px-4 py-1 font-bold text-white bg-black rounded-full cursor-pointer w-max"
                >
                  Go Back
                </div>

                <div class="mt-4">
                  <p class="mb-3 text-xs text-white/50">
                    Note: You can use this balance for you purchases.
                  </p>
                  <div class="w-full p-4 bg-black h-max rounded-2xl">
                    <h1 class="text-5xl font-bold text-white/80">
                      ₹{{ personalWallet.balance }}
                    </h1>
                    <p
                      class="bg-[#0f0f0f] w-max text-white/60 px-5 py-2 rounded-full mt-3"
                    >
                      Purchase Wallet
                    </p>
                  </div>

                  <!-- <div class="w-full mt-5">
                  <h1 class="mb-3 text-xl font-bold text-white">Add Money</h1>
                  <div class="flex justify-center w-full">
                    <input
                      v-model="personalWallet.addWallet"
                      type="number"
                      class="h-16 w-[60%] bg-black text-white outline-none border-none rounded-xl text-2xl px-4 text-center"
                      placeholder="0"
                    />
                  </div>
                  <div class="flex w-full gap-2 mt-3 h-11">
                    <div
                      @click="personalWallet.addWallet += 500"
                      class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                    >
                      +500
                    </div>
                    <div
                      @click="personalWallet.addWallet += 1000"
                      class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                    >
                      +1000
                    </div>
                    <div
                      @click="personalWallet.addWallet += 2500"
                      class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                    >
                      +2500
                    </div>
                    <div
                      @click="personalWallet.addWallet += 5000"
                      class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                    >
                      +5000
                    </div>
                  </div>
                  <div
                    @click="addWallet()"
                    class="flex items-center justify-center w-full py-4 mt-3 text-2xl font-bold text-center text-white/60 bg-white/20 rounded-2xl"
                  >
                    Add Wallet
                  </div>
                </div> -->
                </div>
              </div>
              <div v-else-if="currentSection == 'incomeWallet'">
                <div
                  @click="currentSection = null"
                  class="px-4 py-1 font-bold text-white bg-black rounded-full cursor-pointer w-max"
                >
                  Go Back
                </div>

                <div class="mt-4">
                  <p class="mb-3 text-xs text-white/50">
                    Note: You can transfer this to Purchase wallet or you can
                    withdraw to your bank.
                  </p>
                  <div class="w-full p-4 bg-black h-max rounded-2xl">
                    <h1 class="text-5xl font-bold text-white/80">
                      ₹{{ incomeWallet.balance }}
                    </h1>
                    <p
                      class="bg-[#0f0f0f] w-max text-white/60 px-5 py-2 rounded-full mt-3"
                    >
                      Income Wallet
                    </p>
                  </div>

                  <div
                    class="grid w-full h-auto grid-cols-2 gap-4 p-2 mt-3 border rounded-full border-white/10"
                  >
                    <div
                      @click="changeActiveSlide('transfer')"
                      class="px-2 py-1 text-center text-white rounded-full"
                      :class="{
                        'font-bold bg-white/10':
                          incomeWallet.activeSlide == 'transfer',
                      }"
                    >
                      Transfer
                    </div>
                    <div
                      @click="changeActiveSlide('withdraw')"
                      class="px-2 py-1 text-center text-white rounded-full"
                      :class="{
                        'font-bold bg-white/10':
                          incomeWallet.activeSlide == 'withdraw' ||
                          incomeWallet.activeSlide == 'withdrawDetails',
                      }"
                    >
                      Withdraw
                    </div>
                  </div>

                  <div
                    v-if="incomeWallet.activeSlide == 'transfer'"
                    class="w-full mt-5"
                  >
                    <h1 class="mb-3 text-xl font-bold text-white">
                      Transfer to Purchase wallet
                    </h1>
                    <div class="flex justify-center w-full">
                      <input
                        v-model="incomeWallet.transfer"
                        type="number"
                        class="h-16 w-[60%] bg-black text-white outline-none border-none rounded-xl text-2xl px-4 text-center"
                        placeholder="0"
                      />
                    </div>
                    <div class="flex w-full gap-2 mt-3 h-11">
                      <div
                        @click="incomeWallet.transfer += 500"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +500
                      </div>
                      <div
                        @click="incomeWallet.transfer += 1000"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +1000
                      </div>
                      <div
                        @click="incomeWallet.transfer += 2500"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +2500
                      </div>
                      <div
                        @click="incomeWallet.transfer += 5000"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +5000
                      </div>
                    </div>
                    <!--  -->
                    <div
                      @click="transfer()"
                      class="flex items-center justify-center w-full py-4 mt-3 text-2xl font-bold text-center text-white/60 bg-white/20 rounded-2xl"
                    >
                      Transfer
                    </div>
                  </div>
                  <div
                    v-else-if="incomeWallet.activeSlide == 'withdraw'"
                    class="w-full mt-5"
                  >
                    <p
                      v-if="incomeWallet.isKycVerified"
                      class="mb-2 text-white"
                    >
                      <i class="fa-solid fa-circle-check"></i> KYC Verified
                    </p>
                    <p
                      v-else-if="incomeWallet.isKycCanceled"
                      class="mb-2 text-white"
                    >
                      <i class="fa-solid fa-clock"></i> KYC Canceled
                    </p>
                    <p v-else class="mb-2 text-white">
                      <i class="fa-solid fa-clock"></i> KYC Pending
                    </p>
                    <h1 class="mb-3 text-xl font-bold text-white">
                      Withdraw to you bank
                    </h1>
                    <div class="flex justify-center w-full">
                      <input
                        v-model="incomeWallet.withdraw"
                        type="number"
                        class="h-16 w-[60%] bg-black text-white outline-none border-none rounded-xl text-2xl px-4 text-center"
                        placeholder="0"
                      />
                    </div>
                    <div class="flex w-full gap-2 mt-3 h-11">
                      <div
                        @click="incomeWallet.withdraw += 500"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +500
                      </div>
                      <div
                        @click="incomeWallet.withdraw += 1000"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +1000
                      </div>
                      <div
                        @click="incomeWallet.withdraw += 2500"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +2500
                      </div>
                      <div
                        @click="incomeWallet.withdraw += 5000"
                        class="flex items-center justify-center w-full h-full text-center text-white bg-black rounded-2xl hover:ring-2 ring-offset-1 hover:ring-white"
                      >
                        +5000
                      </div>
                    </div>
                    <!--  -->
                    <div
                      @click="withdraw(1)"
                      class="flex items-center justify-center w-full py-4 mt-3 text-2xl font-bold text-center text-white/60 bg-white/20 rounded-2xl"
                    >
                      Withdraw
                    </div>
                  </div>
                  <div
                    v-else-if="incomeWallet.activeSlide == 'withdrawDetails'"
                    class="w-full mt-5"
                  >
                    <div v-if="incomeWallet.isKycVerified">
                      <h1 class="mb-3 text-xl font-bold text-white">
                        Are you sure want to withdraw?
                      </h1>
                      <h1 class="mb-3 text-sm text-white/70">
                        <span class="font-bold"
                          >₹{{
                            incomeWallet.balance - incomeWallet.withdraw
                          }}</span
                        >
                        will be your income wallet balance after withdraw.
                      </h1>
                      <div
                        @click="withdraw(3)"
                        class="flex items-center justify-center w-full py-4 mt-3 text-2xl font-bold text-center text-white/60 bg-white/20 rounded-2xl"
                      >
                        Withdraw
                      </div>
                    </div>
                    <div v-else>
                      <div v-if="incomeWallet.isKycPending">
                        <h1 class="mb-3 text-xl font-bold text-white">
                          Your KYC is being Verified. Thanks for your patience.
                        </h1>

                        <h1 class="mb-3 text-sm text-white/70">
                          {{ incomeWallet.kycDetails.message }}
                        </h1>
                      </div>

                      <div v-else-if="incomeWallet.isKycCanceled">
                        <h1 class="mb-3 text-xl font-bold text-white">
                          Your KYC is Canceled. Please try again.
                        </h1>

                        <h1 class="mb-3 text-sm text-white/70">
                          {{ incomeWallet.kycDetails.message }}
                        </h1>
                      </div>

                      <div v-else>
                        <h1 class="mb-3 text-xl font-bold text-white">
                          Complete KYC
                        </h1>

                        <h1 class="mb-3 text-sm text-white/70">
                          One step ahead
                        </h1>
                      </div>

                      <!-- <div class="grid w-full grid-cols-2 gap-3">
                      <div
                        @click="incomeWallet.selectedWithdrawMode = 'bank'"
                        class="w-full py-3 text-center text-white border rounded-full border-white/10"
                        :class="{
                          'border-white/40 bg-white/10':
                            incomeWallet.selectedWithdrawMode == 'bank',
                        }"
                      >
                        Bank
                      </div>
                      <div
                        @click="incomeWallet.selectedWithdrawMode = 'upi'"
                        class="w-full py-3 text-center text-white border rounded-full border-white/10"
                        :class="{
                          'border-white/40 bg-white/10':
                            incomeWallet.selectedWithdrawMode == 'upi',
                        }"
                      >
                        UPI
                      </div>
                    </div> -->

                      <div class="grid grid-cols-2 gap-3">
                        <div
                          v-if="incomeWallet.kycDetails.aadharPhotoFront"
                          class="relative flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg cursor-not-allowed text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <img
                            :src="incomeWallet.kycDetails.aadharPhotoFront"
                            class="object-cover w-full h-full"
                            alt=""
                          />
                          <div
                            v-if="!incomeWallet.isKycPending"
                            @click="
                              incomeWallet.kycDetails.aadharPhotoFront = ''
                            "
                            class="absolute bg-red-400 rounded-full bottom-2 right-2 z-[999] h-10 w-10 flex cursor-pointer justify-center items-center"
                          >
                            <i
                              class="text-xl text-white fa-regular fa-trash-can"
                            ></i>
                          </div>
                        </div>
                        <input
                          v-if="!incomeWallet.kycDetails.aadharPhotoFront"
                          @change="sendFile($event, 'aadharFront')"
                          type="file"
                          class="hidden"
                          id="aadharFront"
                        />
                        <label
                          v-if="!incomeWallet.kycDetails.aadharPhotoFront"
                          for="aadharFront"
                          class="flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <i class="text-2xl fa-solid fa-plus"></i>
                          Aadhar Card Front
                        </label>

                        <div
                          v-if="incomeWallet.kycDetails.aadharPhotoBack"
                          class="relative flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg cursor-not-allowed text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <img
                            :src="incomeWallet.kycDetails.aadharPhotoBack"
                            class="object-cover w-full h-full"
                            alt=""
                          />
                          <div
                            v-if="!incomeWallet.isKycPending"
                            @click="
                              incomeWallet.kycDetails.aadharPhotoBack = ''
                            "
                            class="absolute bg-red-400 rounded-full bottom-2 right-2 z-[999] h-10 w-10 flex cursor-pointer justify-center items-center"
                          >
                            <i
                              class="text-xl text-white fa-regular fa-trash-can"
                            ></i>
                          </div>
                        </div>
                        <input
                          v-if="!incomeWallet.kycDetails.aadharPhotoBack"
                          @change="sendFile($event, 'aadharBack')"
                          type="file"
                          class="hidden"
                          id="aadharBack"
                        />
                        <label
                          v-if="!incomeWallet.kycDetails.aadharPhotoBack"
                          for="aadharBack"
                          class="flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <i class="text-2xl fa-solid fa-plus"></i>
                          Aadhar Card Back
                        </label>
                      </div>
                      <div class="grid grid-cols-2 gap-3 mt-3">
                        <div
                          v-if="incomeWallet.kycDetails.panPhoto"
                          class="relative flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg cursor-not-allowed text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <img
                            :src="incomeWallet.kycDetails.panPhoto"
                            class="object-cover w-full h-full"
                            alt=""
                          />
                          <div
                            v-if="!incomeWallet.isKycPending"
                            @click="incomeWallet.kycDetails.panPhoto = ''"
                            class="absolute bg-red-400 rounded-full bottom-2 right-2 z-[999] h-10 w-10 flex cursor-pointer justify-center items-center"
                          >
                            <i
                              class="text-xl text-white fa-regular fa-trash-can"
                            ></i>
                          </div>
                        </div>
                        <input
                          v-if="!incomeWallet.kycDetails.panPhoto"
                          @change="sendFile($event, 'panPhoto')"
                          type="file"
                          class="hidden"
                          id="panPhoto"
                        />
                        <label
                          v-if="!incomeWallet.kycDetails.panPhoto"
                          for="panPhoto"
                          class="flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <i class="text-2xl fa-solid fa-plus"></i>
                          Pan Card Front
                        </label>

                        <div
                          v-if="incomeWallet.kycDetails.passbookPhoto"
                          class="relative flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg cursor-not-allowed text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <img
                            :src="incomeWallet.kycDetails.passbookPhoto"
                            class="object-cover w-full h-full"
                            alt=""
                          />
                          <div
                            v-if="!incomeWallet.isKycPending"
                            @click="incomeWallet.kycDetails.passbookPhoto = ''"
                            class="absolute bg-red-400 rounded-full bottom-2 right-2 z-[999] h-10 w-10 flex cursor-pointer justify-center items-center"
                          >
                            <i
                              class="text-xl text-white fa-regular fa-trash-can"
                            ></i>
                          </div>
                        </div>
                        <input
                          v-if="!incomeWallet.kycDetails.passbookPhoto"
                          @change="sendFile($event, 'passbookPhoto')"
                          type="file"
                          class="hidden"
                          id="passbookPhoto"
                        />
                        <label
                          v-if="!incomeWallet.kycDetails.passbookPhoto"
                          for="passbookPhoto"
                          class="flex flex-col items-center justify-center w-full h-auto gap-3 overflow-hidden text-xs text-center border border-dashed rounded-lg text-white/70 border-white/50 bg-white/10 aspect-video"
                        >
                          <i class="text-2xl fa-solid fa-plus"></i>
                          Passbook First Page<br />
                          (Name, Account Number, IFSC Code must be visble)
                        </label>
                      </div>

                      <h1 class="my-3 text-sm text-white/70">
                        Enter the same account details as on your passbook
                      </h1>

                      <div
                        v-if="incomeWallet.isKycPending"
                        class="grid gap-3 mt-5"
                      >
                        <input
                          v-model="incomeWallet.kycDetails.bankHolderName"
                          type="text"
                          disabled
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none cursor-not-allowed rounded-xl"
                          placeholder="Account Holder Name"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankAccNumber"
                          type="number"
                          disabled
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none cursor-not-allowed rounded-xl"
                          placeholder="Bank Account No"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankName"
                          type="text"
                          disabled
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none cursor-not-allowed rounded-xl"
                          placeholder="Bank Name"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankIfscCode"
                          type="text"
                          disabled
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none cursor-not-allowed rounded-xl"
                          placeholder="Bank IFSC Code"
                        />
                      </div>
                      <div v-else class="grid gap-3 mt-5">
                        <input
                          v-model="incomeWallet.kycDetails.bankHolderName"
                          type="text"
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                          placeholder="Account Holder Name"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankAccNumber"
                          type="number"
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                          placeholder="Bank Account No"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankName"
                          type="text"
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                          placeholder="Bank Name"
                        />
                        <input
                          v-model="incomeWallet.kycDetails.bankIfscCode"
                          type="text"
                          class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                          placeholder="Bank IFSC Code"
                        />
                      </div>

                      <!-- <div
                      v-if="incomeWallet.selectedWithdrawMode == 'upi'"
                      class="grid gap-3 mt-5"
                    >
                      <input
                        v-model="incomeWallet.upiWithdrawDetails.name"
                        type="text"
                        class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                        placeholder="Your Name"
                      />
                      <input
                        v-model="incomeWallet.upiWithdrawDetails.upiId"
                        type="text"
                        class="w-full h-16 px-4 text-xl text-white bg-black border-none outline-none rounded-xl"
                        placeholder="UPI Id"
                      />
                    </div> -->
                      <div
                        v-if="!incomeWallet.isKycPending"
                        @click="withdraw(2)"
                        class="flex items-center justify-center w-full py-4 mt-3 text-2xl font-bold text-center text-white/60 bg-white/20 rounded-2xl"
                      >
                        Submit
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div v-else class="grid w-full grid-cols-1 gap-5 sm:grid-cols-3">
                <div
                  @click="openModel('reward')"
                  class="flex items-center justify-center h-20 text-xl font-bold text-center text-white transition bg-black cursor-pointer hover:scale-105 rounded-xl"
                >
                  Reward Wallet
                </div>
                <div
                  @click="openModel('personalWallet')"
                  class="flex items-center justify-center h-20 text-xl font-bold text-center text-white transition bg-black cursor-pointer hover:scale-105 rounded-xl"
                >
                  Purchase Wallet
                </div>
                <div
                  @click="openModel('incomeWallet')"
                  class="flex items-center justify-center h-20 text-xl font-bold text-center text-white transition bg-black cursor-pointer hover:scale-105 rounded-xl"
                >
                  Income Wallet
                </div>
              </div>
            </div>
            <div
              id="refer"
              class="w-full h-auto p-3 mt-5 bg-yellow-400 rounded-2xl"
            >
              <h1 class="text-xl font-black text-center lg:text-3xl">
                It's More Fun Together!
              </h1>
              <p class="font-medium text-center">
                Refer a friend & earn upto 1000 ₹ from their overall purchase .
              </p>
              <img src="/emoji.png" class="w-full" alt="" />
              <div
                @click="shareBiz(`${url}/?shareId=${user.referralCode}`)"
                class="w-full py-4 font-extrabold text-center text-white bg-black rounded-full cursor-pointer md:hidden hover:scale-105"
              >
                Invite a friend <i class="fa-solid fa-share-nodes"></i>
              </div>

              <div
                @click="copyToClipboard(`${url}/?shareId=${user.referralCode}`)"
                class="w-full py-4 mt-4 font-extrabold text-center text-black border-2 border-black rounded-full cursor-pointer hover:scale-105"
              >
                Referral Code:
                <span
                  class="px-3 border border-black border-dashed rounded-md"
                  >{{ user.referralCode }}</span
                >
                <i class="ml-2 fa-solid fa-copy"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      v-if="isLoading"
      class="fixed top-0 left-0 h-full bg-black/50 w-full z-[9999999999999]"
    ></div>
  </div>
</template>

<script setup>
// useHead({
//   script: {
//     src: "/particles.min.js",
//   },
// });
</script>

<script>
import Chart from "chart.js/auto";
import { useToast } from "vue-toastification";
definePageMeta({
  middleware: ["auth"],
});
export default {
  data() {
    return {
      toast: useToast(),
      user: {},
      isLoading: false,
      currentSection: null,
      level: null,
      referrals: {},
      earningsDate: [],
      reward: {
        pendings: [],
        personalPending: 0,
        refundPending: 0,
        totalPending: 0,
      },
      personalWallet: {
        addWallet: 0,
        balance: 0,
      },
      incomeWallet: {
        balance: 0,
        transfer: 0,
        activeSlide: "transfer",
        withdraw: 0,
        selectedWithdrawMode: "bank",
        upiWithdrawDetails: {
          upiId: "",
          name: "",
        },
        isKycVerified: false,
        isKycPending: false,
        isKycCanceled: false,
        kycDetails: {
          bankHolderName: "",
          bankName: "",
          bankIfscCode: "",
          bankAccNumber: "",
          aadharPhotoFront: "",
          aadharPhotoBack: "",
          panPhoto: "",
          passbookPhoto: "",
          message: "",
        },
      },
      overallEarned: 0,
      bonus: {},
      levelEarnings: [],
      url: "",
    };
  },
  mounted() {
    // particlesJS.load("particles-js", "/particlesjs-config.json", function () {
    //   console.log("particles.json loaded...");
    // });

    this.getUser();
    if (window.location.hostname == "localhost") {
      this.url = "http://localhost:3000";
    } else {
      this.url = "https://www.weemax.in";
    }
  },
  methods: {
    getUser() {
      this.$http
        .$get(`/user/profile`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.success) {
            this.user = res.user;
            return;
          }
          console.log(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    getReferrals() {
      console.log(this.earningsDate);
      this.$http
        .$get(`/user/profile/getReferals`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.success) {
            this.referrals = res.referrals;
            return;
          }
          console.log(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    getRewardWallet() {
      this.$http
        .$get(`/user/profile/getRewardWallet`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.success) {
            this.reward.pendings = res.rewardWallet;
            this.reward.personalPending = res.personalPending;
            this.reward.refundPending = res.refundPending;
            this.reward.totalPending = res.totalPending;
            return;
          }
          console.log(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    getPersonalWallet() {
      this.$http
        .$get(`/user/profile/getPersonalWallet`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.success) {
            this.personalWallet.balance = res.balance;
            return;
          }
          console.log(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    getIncomeWallet() {
      this.$http
        .$get(`/user/profile/getIncomeWallet`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.success) {
            this.incomeWallet.balance = res.balance;
            return;
          }
          console.log(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    addWallet() {
      if (this.personalWallet.addWallet < 100) {
        this.toast.error("Minimum top up is 100");
        return;
      }

      this.$http
        .$post(`/user/profile/addTransaction?type=add`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
          body: {
            wallet: "cashback",
            amount: this.personalWallet.addWallet,
            source: "manual",
            method: "deposit",
          },
        })
        .then((res) => {
          if (res.success) {
            this.getPersonalWallet();
            this.personalWallet.addWallet = 0;
            this.toast.success(res.message);
            return;
          }
          this.toast.error(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    transfer() {
      if (this.incomeWallet.transfer == 0) {
        this.toast.error("Please enter amount");
        return;
      }
      this.getIncomeWallet();

      if (this.incomeWallet.balance < this.incomeWallet.transfer) {
        this.toast.error(
          `You have only ${this.incomeWallet.balance} in your income wallet.`
        );
        return;
      }

      this.$http
        .$post(`/user/profile/addTransaction?type=transfer`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
          body: {
            add: {
              wallet: "cashback",
              amount: this.incomeWallet.transfer,
              source: "referralWallet",
              method: "deposit",
            },
            minus: {
              wallet: "referral",
              amount: this.incomeWallet.transfer,
              source: "transfer",
              method: "withdraw",
            },
          },
        })
        .then((res) => {
          if (res.success) {
            this.getIncomeWallet();
            this.incomeWallet.transfer = 0;
            this.toast.success(res.message);
            return;
          }
          this.toast.error(res.message);
        })
        .catch((err) => {
          console.log(err);
        });
    },
    withdraw(step) {
      if (this.incomeWallet.withdraw == 0) {
        this.toast.error("Please enter amount");
        return;
      }
      this.getIncomeWallet();

      if (this.incomeWallet.balance < this.incomeWallet.withdraw) {
        this.toast.error(
          `You have only ${this.incomeWallet.balance} in your income wallet.`
        );
        return;
      }

      if (step == 1) {
        this.incomeWallet.activeSlide = "withdrawDetails";
      }

      if (step == 2) {
        if (!this.incomeWallet.kycDetails.aadharPhotoFront) {
          this.toast.error("Please upload aadhar card front");
          return;
        }
        if (!this.incomeWallet.kycDetails.aadharPhotoBack) {
          this.toast.error("Please upload aadhar card back");
          return;
        }
        if (!this.incomeWallet.kycDetails.panPhoto) {
          this.toast.error("Please upload pan card");
          return;
        }
        if (!this.incomeWallet.kycDetails.passbookPhoto) {
          this.toast.error("Please upload passbook");
          return;
        }
        if (!this.incomeWallet.kycDetails.bankHolderName) {
          this.toast.error("Please enter account holder name");
          return;
        }
        if (!this.incomeWallet.kycDetails.bankAccNumber) {
          this.toast.error("Please enter account number");
          return;
        }
        if (!this.incomeWallet.kycDetails.bankName) {
          this.toast.error("Please enter bank name");
          return;
        }
        if (!this.incomeWallet.kycDetails.bankIfscCode) {
          this.toast.error("Please enter bank ifsc code");
          return;
        }

        this.$http
          .$post(`/user/profile/applyKyc`, {
            headers: {
              Authorization:
                "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
            },
            body: {
              ...this.incomeWallet.kycDetails,
            },
          })
          .then((res) => {
            if (res.success) {
              this.getIncomeWallet();
              this.getKycStatus();
              this.incomeWallet.activeSlide = "transfer";
              this.toast.success(res.message);
              return;
            }
            this.toast.error(res.message);
          })
          .catch((err) => {
            console.log(err);
          });
      }

      if (step == 3) {
        if (this.incomeWallet.selectedWithdrawMode == "bank") {
          this.$http
            .$post(`/user/profile/addTransaction?type=withdraw`, {
              headers: {
                Authorization:
                  "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
              },
              body: {
                minus: {
                  wallet: "income",
                  amount: this.incomeWallet.withdraw,
                  source: "withdraw",
                  method: "withdraw",
                },
                details: {
                  bankHolderName: this.incomeWallet.kycDetails.bankHolderName,
                  bankAccNum: this.incomeWallet.kycDetails.bankAccNumber,
                  bankName: this.incomeWallet.kycDetails.bankName,
                  bankIfsc: this.incomeWallet.kycDetails.bankIfscCode,
                },
              },
            })
            .then((res) => {
              if (res.success) {
                this.getIncomeWallet();
                this.incomeWallet.withdraw = 0;
                this.incomeWallet.activeSlide = "withdraw";
                this.toast.success(res.message);
                return;
              }
              this.toast.error(res.message);
            })
            .catch((err) => {
              console.log(err);
            });
        } else {
          // this.$http
          //   .$post(`/user/profile/addTransaction?type=withdraw`, {
          //     headers: {
          //       Authorization:
          //         "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          //     },
          //     body: {
          //       minus: {
          //         wallet: "income",
          //         amount: this.incomeWallet.withdraw,
          //         source: "withdraw",
          //         method: "withdraw",
          //       },
          //       details: {
          //         ...this.incomeWallet.upiWithdrawDetails,
          //       },
          //     },
          //   })
          //   .then((res) => {
          //     if (res.success) {
          //       this.getIncomeWallet();
          //       this.incomeWallet.withdraw = 0;
          //       this.toast.success(res.message);
          //       this.incomeWallet.selectedWithdrawMode = "";
          //       this.incomeWallet.bankWithdrawDetails = {
          //         holderName: "",
          //         bankAccNum: "",
          //         bankName: "",
          //         bankIfsc: "",
          //       };
          //       this.incomeWallet.activeSlide = "withdraw";
          //       return;
          //     }
          //     this.toast.error(res.message);
          //   })
          //   .catch((err) => {
          //     console.log(err);
          //   });
        }
      }
    },
    openModel(model) {
      if (model == "team") {
        this.getReferrals();
        this.currentSection = "team";
      } else if (model == "reward") {
        this.getRewardWallet();
        this.currentSection = "reward";
      } else if (model == "personalWallet") {
        this.getPersonalWallet();
        this.currentSection = "personalWallet";
      } else if (model == "incomeWallet") {
        this.getIncomeWallet();
        this.currentSection = "incomeWallet";
      } else if (model == "earnings") {
        this.getReferrals();
        this.currentSection = "earnings";
      } else if (model == "bonus") {
        this.getReferrals();
        this.currentSection = "bonus";
      }
    },
    shareBiz(text) {
      if (navigator.share) {
        // Replace "Your title" with a meaningful title for your link
        // Replace "Your description" with a meaningful description for your link
        // Replace "your-link-here" with the actual URL you want to share
        navigator
          .share({
            // title: "Weemax Insider - Earn Money Online.",
            // text: "Hey buddy, I found this amazing website. Check it out!",
            url: text,
          })
          .then(() => console.log("Link shared successfully!"))
          .catch((error) => console.error("Error sharing link:", error));
      } else {
        // Create a temporary textarea element
        const textarea = document.createElement("textarea");
        textarea.value = text;

        // Make the textarea non-editable
        textarea.setAttribute("readonly", "");

        // Set the position to absolute to remove it from document flow
        textarea.style.position = "absolute";
        textarea.style.left = "-9999px";

        // Append the textarea to the document
        document.body.appendChild(textarea);

        // Copy the text from the textarea
        textarea.select();
        document.execCommand("copy");

        // Remove the textarea from the document
        document.body.removeChild(textarea);

        this.toast.success(`Link copied to clipboard`);
      }
    },
    copyToClipboard(text) {
      // Create a temporary textarea element
      const textarea = document.createElement("textarea");
      textarea.value = text;

      // Make the textarea non-editable
      textarea.setAttribute("readonly", "");

      // Set the position to absolute to remove it from document flow
      textarea.style.position = "absolute";
      textarea.style.left = "-9999px";

      // Append the textarea to the document
      document.body.appendChild(textarea);

      // Copy the text from the textarea
      textarea.select();
      document.execCommand("copy");

      // Remove the textarea from the document
      document.body.removeChild(textarea);

      this.toast.success(`Link copied to clipboard`);
    },
    getKycStatus() {
      this.$http
        .$get(`/user/profile/getKycStatus`, {
          headers: {
            Authorization:
              "Bearer " + window.localStorage.getItem("weemaxAccessToken"),
          },
        })
        .then((res) => {
          if (res.status == "pending") {
            this.incomeWallet.isKycPending = true;
            this.incomeWallet.kycDetails = res.details;
          }
          if (res.status == "canceled") {
            this.incomeWallet.kycDetails.message = res.details.message;
            this.incomeWallet.isKycCanceled = true;
          }
          if (res.kyc.status == "approved") {
            this.incomeWallet.isKycVerified = true;
          }
        })
        .catch((err) => {
          console.log(err);
        });
    },
    changeActiveSlide(slide) {
      if (slide == "withdraw") {
        this.getKycStatus();
      }

      this.incomeWallet.activeSlide = slide;
    },
    sendFile(event, index) {
      this.isLoading = true;
      let selectedFile = event.target.files[0];
      this.fileUpload(selectedFile, index);
    },
    async fileUpload(selectedFile, index) {
      let reader = new FileReader();
      reader.onloadend = async () => {
        try {
          const response = await fetch(
            `https://api.weemax.in/platform/api/page/upload`,
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                image: reader.result,
                fileName: selectedFile.name,
              }),
            }
          );

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          } else {
            // const result = (await response.json()) / console.log(result);
            const result = await response.json();
            if (result.success) {
              if (index == "aadharFront") {
                this.incomeWallet.kycDetails.aadharPhotoFront = result.srcUrl;
              } else if (index == "aadharBack") {
                this.incomeWallet.kycDetails.aadharPhotoBack = result.srcUrl;
              } else if (index == "panPhoto") {
                this.incomeWallet.kycDetails.panPhoto = result.srcUrl;
              } else if (index == "passbookPhoto") {
                this.incomeWallet.kycDetails.passbookPhoto = result.srcUrl;
              }

              this.isLoading = false;
            }
          }
        } catch (error) {
          console.error(error);
        }
      };
      reader.readAsDataURL(selectedFile);
    },
    findIndexByKey(key) {
      return this.levelEarnings.findIndex((item) => this.level in item);
    },
  },
};
</script>
